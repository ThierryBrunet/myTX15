# Angel30 Outdoor Configuration
# Balanced for outdoor flying with moderate control authority

name: Angel30-Outdoor
model:
  type: Multirotor
  subtype: QuadX
  rfProtocol: ExpressLRS
  channels: 8

module:
  type: CRSF
  rfProtocol: ExpressLRS
  channels: 8

controls:
  aileron: CH1
  elevator: CH2
  throttle: CH3
  rudder: CH4

flightModes:
  - name: Outdoor
    switch: SA-mid
    active: true
    curves:
      throttle: [0, 35, 65, 85, 95]
      pitch: [0, 30, 60, 80, 90]
      roll: [0, 30, 60, 80, 90]
      yaw: [0, 35, 65, 85, 95]
    trims:
      pitch: 0
      roll: 0
      yaw: 0

logicalSwitches:
  - name: Arm_Check
    type: AND
    conditions:
      - switch: SB-up
      - channel: CH3
        operator: "<"
        value: 10

  - name: Disarm_Check
    type: OR
    conditions:
      - switch: SF-up
      - channel: CH3
        operator: "<"
        value: 5

specialFunctions:
  - name: Throttle_Cutoff
    switch: SF-up
    type: OverrideCH
    channel: 3
    value: -100

  - name: Arming
    switch: L01  # Arm_Check
    type: OverrideCH
    channel: 6
    value: 100

mixes:
  - output: CH1
    input: Roll
    weight: 70
    curve: "0,70,85,95,100"

  - output: CH2
    input: Pitch
    weight: 70
    curve: "0,70,85,95,100"

  - output: CH3
    input: Throttle
    weight: 100
    curve: "0,35,65,85,95"

  - output: CH4
    input: Yaw
    weight: 70
    curve: "0,35,65,85,95"

inputs:
  - name: Roll
    type: Stick
    stick: Aileron
    weight: 100

  - name: Pitch
    type: Stick
    stick: Elevator
    weight: 100

  - name: Throttle
    type: Stick
    stick: Throttle
    weight: 100

  - name: Yaw
    type: Stick
    stick: Rudder
    weight: 100

telemetry:
  screens:
    - name: Basic
      lines:
        - type: RxBt
        - type: RSSI
        - type: Timer1

timers:
  - name: Flight_Time
    type: Elapsed
    persistent: Flight
    countdownBeep: 30

failsafe:
  mode: Hold
  channels:
    - channel: 3
      value: -100  # Throttle cutoff on failsafe