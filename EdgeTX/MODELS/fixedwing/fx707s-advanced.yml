# Fx707s Advanced Configuration
# Moderate gyro assistance with Reflex V3 for sport flying

name: Fx707s-Advanced
model:
  type: Airplane
  subtype: Flying-wing
  rfProtocol: ExpressLRS
  channels: 8

module:
  type: CRSF
  rfProtocol: ExpressLRS
  channels: 8

controls:
  aileron: CH1
  elevator: CH2
  throttle: CH3
  rudder: CH4

flightModes:
  - name: Advanced
    switch: SA-mid
    active: true
    gyro:
      gain: 50
      mode: Rate
    curves:
      elevator: [-100, -60, 0, 60, 100]
      aileron: [-85, -45, 0, 45, 85]
    trims:
      pitch: 0
      roll: 0
      yaw: 0

logicalSwitches:
  - name: Arm_Check
    type: AND
    conditions:
      - switch: SB-up
      - channel: CH3
        operator: "<"
        value: 10

  - name: Disarm_Check
    type: OR
    conditions:
      - switch: SF-up
      - channel: CH3
        operator: "<"
        value: 5

specialFunctions:
  - name: Throttle_Cutoff
    switch: SF-up
    type: OverrideCH
    channel: 3
    value: -100

  - name: Arming
    switch: L01  # Arm_Check
    type: OverrideCH
    channel: 6
    value: 100

mixes:
  - output: CH1
    input: Aileron
    weight: 85
    curve: "-85,-45,0,45,85"

  - output: CH2
    input: Elevator
    weight: 100

  - output: CH3
    input: Throttle
    weight: 100

  - output: CH4
    input: Rudder
    weight: 100

inputs:
  - name: Aileron
    type: Stick
    stick: Aileron
    weight: 100

  - name: Elevator
    type: Stick
    stick: Elevator
    weight: 100

  - name: Throttle
    type: Stick
    stick: Throttle
    weight: 100

  - name: Rudder
    type: Stick
    stick: Rudder
    weight: 100

telemetry:
  screens:
    - name: Basic
      lines:
        - type: RxBt
        - type: RSSI
        - type: Timer1

timers:
  - name: Flight_Time
    type: Elapsed
    persistent: Flight
    countdownBeep: 30

failsafe:
  mode: Hold
  channels:
    - channel: 3
      value: -100  # Throttle cutoff on failsafe